(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"94Rw":function(e,n){e.exports=""},"9nWW":function(e,n){e.exports="/*FONT STYLE*/\n/*BACKGROUND-COLOR*/\n/*buttons-color*/\n/*MAIN-HOVER-COLOR*/\n/*Title-color*/\n/*Main-text-color*/\n.user-profile-container {\n  height: calc(100vh - 138px);\n  min-width: 300px;\n  padding: 15px 50px;\n  background-color: #fff; }\n.user-profile-container /deep/ dx-button {\n    margin-top: 15px;\n    color: #fff;\n    background-color: #6BCDFD;\n    border: 2px solid #6BCDFD;\n    width: 100%;\n    border-radius: 7px;\n    font-weight: bold;\n    /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/ }\n.user-profile-container /deep/ dx-button:hover {\n      color: #fff;\n      background-color: #39bcfc;\n      border-color: #2fb9fc; }\n.user-profile-container /deep/ .dx-texteditor-input {\n    min-height: 30px;\n    padding: 0 9px;\n    line-height: 30px; }\n.user-profile-container /deep/ dx-select-box {\n    min-height: 30px; }\n.user-profile-container /deep/ dx-select-box input {\n      font-size: 1em; }\n.user-profile-container .dx-list-item-content {\n    font-size: 1em; }\n.user-profile-container /deep/ .dx-texteditor {\n    border-radius: 0; }\nform {\n  min-width: 300px;\n  margin-bottom: 30px;\n  background-color: #fff; }\n.registration-mandatory {\n  float: left;\n  margin-bottom: 15px;\n  font-size: 14px; }\n.dx-item {\n  margin-bottom: 15px; }\n.rc-anchor .rc-anchor-normal .rc-anchor-light {\n  margin-top: 15px; }\n.registration-terms-conditions {\n  font-size: 12px;\n  margin-bottom: 15px; }\n.user-profile-header {\n  background-color: #ffffff;\n  padding: 15px 15px 0;\n  margin-bottom: 5px; }\n.user-profile-header .user-profile-title, .user-profile-header .material-icons {\n    color: #3282B9 !important; }\n.user-profile-header span {\n    font-size: 12px; }\n@media screen and (min-width: 768px) {\n  .user-profile-container {\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: 2fr 1fr;\n        grid-template-columns: 2fr 1fr; } }\n"},Eyw2:function(e,n){e.exports="/*FONT STYLE*/\n/*BACKGROUND-COLOR*/\n/*buttons-color*/\n/*MAIN-HOVER-COLOR*/\n/*Title-color*/\n/*Main-text-color*/\nbluenorth-user-profile {\n  background-color: #fff; }\n.user-profile-organisation-container {\n  height: calc(100vh - 138px);\n  padding: 15px 50px;\n  background-color: #fff; }\n.user-profile-organisation-container /deep/ .dx-texteditor-input {\n    min-height: 30px;\n    padding: 0 9px;\n    line-height: 30px; }\n.user-profile-organisation-container /deep/ dx-select-box {\n    min-height: 30px; }\n.user-profile-organisation-container /deep/ dx-select-box input {\n      font-size: 1em; }\n.user-profile-organisation-container .dx-list-item-content {\n    font-size: 1em; }\n.user-profile-organisation-container /deep/ .dx-texteditor {\n    border-radius: 0; }\n.user-profile-organisation-container form {\n    min-width: 300px;\n    margin-bottom: 30px;\n    background-color: #fff; }\n.user-profile-organisation-container .registration-mandatory {\n    float: left;\n    margin-bottom: 15px;\n    font-size: 14px; }\n.user-profile-organisation-container /deep/ dx-button {\n    margin-top: 15px;\n    color: #fff;\n    background-color: #6BCDFD;\n    border: 2px solid #6BCDFD;\n    width: 100%;\n    border-radius: 7px;\n    font-weight: bold;\n    /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/ }\n.user-profile-organisation-container /deep/ dx-button:hover {\n      color: #fff;\n      background-color: #39bcfc;\n      border-color: #2fb9fc; }\n.user-profile-organisation-container .dx-item {\n    margin-bottom: 15px; }\n.user-profile-organisation-container .rc-anchor .rc-anchor-normal .rc-anchor-light {\n    margin-top: 15px; }\n.user-profile-organisation-container .registration-terms-conditions {\n    font-size: 12px;\n    margin-bottom: 15px; }\n.user-profile-header {\n  background-color: #ffffff;\n  padding: 15px;\n  margin-bottom: 5px; }\n.user-profile-header .user-profile-title, .user-profile-header .material-icons {\n    color: #3282B9 !important; }\n.user-profile-header span {\n    font-size: 12px; }\n@media screen and (min-width: 768px) {\n  .user-profile-organisation-container {\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: 2fr 1fr;\n        grid-template-columns: 2fr 1fr; } }\n"},LHXU:function(e,n){e.exports='<div class="user-profile-organisation-container">\n  <form (submit)="onFormSubmitUpdateOrganisation($event)" dx-group-column-count="2">\n    <span class="registration-mandatory">All fields marked * are mandatory.</span>\n    <dx-form id="form"\n             labelLocation="right"\n             [formData]="setupOrganisation"\n             [readOnly]="false"\n             [showColonAfterLabel]="true"\n             [showValidationSummary]="true"\n             validationGroup="setupOrganisation"\n    >\n      <dxi-item dataField="organisationName"\n                [editorOptions]="{ placeholder: \'ORGANISATION NAME\' }">\n        <dxi-validation-rule\n          type="required"\n          message="Organisation name is required">\n        </dxi-validation-rule>\n      </dxi-item>\n      <dxi-item itemType="group" class="address" caption="ADDRESS">\n        <dxi-item dataField="organisationStreet"\n                  [editorOptions]="{ placeholder: \'STREET\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Street is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="organisationCity"\n                  [editorOptions]="{ placeholder: \'CITY\'}">\n          <dxi-validation-rule\n            type="required"\n            message="City is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="stateProvince"\n                  [editorOptions]="{ placeholder: \'STATE PROVINCE\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Province is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n\n        <dxi-item dataField="Country">\n          <dx-select-box [dataSource]="countriesInfo"\n                         [value]="setupOrganisation.country"\n                         valueExpr="Oid"\n                         displayExpr="Name"\n                         placeholder="SELECT COUNTRY"\n                         (onSelectionChanged)="getCountryValueForOrganisation($event)">\n          </dx-select-box>\n        </dxi-item>\n        </dxi-item>\n      <dxi-item dataField="phoneNumber"\n                [editorOptions]="{\n                    placeholder: \'TELEPHONE NUMBER\',\n                    mask: phoneCode+\'(9)99-999-9999\',\n                    useMaskedValue: true,\n                    disabled: phoneCode === \'\'\n                }">\n      </dxi-item>\n    </dx-form>\n    <br/>\n    <dx-button\n      text="UPDATE ORGANISATION"\n      type="success"\n      validationGroup="setupOrganisation"\n      [useSubmitBehavior]="true">\n    </dx-button>\n  </form>\n</div>\n'},LUOR:function(e,n){e.exports="/*FONT STYLE*/\n/*BACKGROUND-COLOR*/\n/*buttons-color*/\n/*MAIN-HOVER-COLOR*/\n/*Title-color*/\n/*Main-text-color*/\n.user-profile-header {\n  overflow: hidden;\n  position: fixed;\n  width: calc(100% - 242px);\n  z-index: 1; }\n.user-profile-header /deep/ dx-button {\n    color: #6BCDFD;\n    background-color: #fff;\n    border: 2px solid #6BCDFD;\n    width: 150px;\n    border-radius: 7px;\n    font-weight: bold;\n    /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/\n    height: 40px;\n    margin-bottom: 10px;\n    float: right; }\n.user-profile-header /deep/ dx-button:hover {\n      color: #6BCDFD;\n      background-color: #e6e5e5;\n      border-color: #2fb9fc; }\n.user-profile-header /deep/ dx-button:hover {\n      color: #fff;\n      background-color: #6BCDFD;\n      border: 2px solid #6BCDFD;\n      width: 150px;\n      border-radius: 7px;\n      font-weight: bold;\n      /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/ }\n.user-profile-header /deep/ dx-button:hover:hover {\n        color: #fff;\n        background-color: #39bcfc;\n        border-color: #2fb9fc; }\n@media screen and (max-width: 768px) {\n  .registration-container {\n    margin-left: 0 !important;\n    margin-right: 0 !important; }\n  .registration-container form {\n    padding: 20px; } }\n.wrapper {\n  margin: 0 20px;\n  display: -ms-grid;\n  display: grid;\n  grid-gap: 15px; }\n.user-profile {\n  width: 100%;\n  height: 200px;\n  text-align: center;\n  background-color: #262F44; }\n.user-profile a {\n    cursor: pointer; }\n.user-profile .user-name {\n    margin-top: 15px; }\n.user-profile .material-icons {\n    margin-top: 20px;\n    font-size: 50px;\n    color: #54647D; }\n.user-profile .user-profile-name {\n    width: 80%;\n    font-weight: bold;\n    margin-bottom: 15px;\n    display: inline-block; }\n.user-profile .to-profile {\n    color: #fff !important;\n    margin-top: 15px;\n    cursor: pointer; }\n.user-profile .user-profile-last-name {\n    font-size: 12px;\n    color: #fff;\n    font-weight: bold;\n    display: inline-block;\n    white-space: pre; }\n.user-profile .user-profile-logout {\n    font-size: 12px;\n    color: #fff;\n    font-weight: bold;\n    display: block; }\n.user-profile p, .user-profile a {\n    display: block;\n    font-size: 12px;\n    color: #fff; }\n.user-profile a {\n    color: #7798B1;\n    text-decoration: underline; }\n.sidebar {\n  width: 200px;\n  background-color: #F3F3F3;\n  padding: 0 !important; }\n.user-profile-sidebar {\n  background-color: #262F44; }\n.user-profile-sidebar /deep/ dx-tree-view .dx-treeview-node {\n    padding-left: 0 !important;\n    background-color: #f9f9f9;\n    text-align: left;\n    color: #D8CFCB;\n    padding-left: 15px;\n    border-top: 1px solid #D8CFCB; }\n.user-profile-sidebar /deep/ dx-tree-view .dx-treeview-node .dx-treeview .dx-treeview-item .dx-icon {\n      background-size: 40px 40px;\n      width: 40px;\n      height: 40px;\n      margin: 0 auto;\n      display: block; }\n.user-profile-sidebar /deep/ dx-tree-view .dx-treeview-node .dx-treeview-node-is-leaf {\n      background-color: #f9f9f9; }\n.user-profile-sidebar /deep/ dx-tree-view .dx-treeview-node .dx-treeview-node-is-leaf .dx-state-focused {\n        background-color: #ffffff !important; }\n.user-profile-sidebar .profile-navigation {\n    list-style-type: none;\n    color: #D4CBCB;\n    font-size: 12px;\n    font-weight: bold;\n    padding-left: 0;\n    cursor: pointer; }\n.user-profile-sidebar .profile-navigation .profile-navigation-item {\n      line-height: 35px;\n      padding-left: 15px;\n      background-color: #262F44;\n      font-size: 12px;\n      border-top: 1px solid #D8CFCB;\n      color: #fff;\n      transition: all .25s linear; }\n.user-profile-sidebar .profile-navigation .profile-navigation-item:hover {\n        color: #000;\n        background-color: #fff; }\n.user-profile-sidebar .profile-navigation .profile-navigation-item.active {\n        color: #000;\n        background-color: #fff; }\n.user-profile-sidebar .profile-navigation .profile-navigation-item i {\n        float: right;\n        line-height: 35px;\n        color: #C6C6CB; }\n.user-profile-header {\n  background-color: #ffffff;\n  padding: 15px 15px 0;\n  margin-bottom: 5px; }\n.user-profile-header .user-profile-title, .user-profile-header .material-icons {\n    color: #3282B9 !important; }\n.user-profile-header span {\n    font-size: 12px; }\n@media screen and (min-width: 768px) {\n  /* no grid support? */\n  .sidebar {\n    float: left;\n    position: fixed;\n    width: 200px !important;\n    min-height: 100vh; }\n  .content {\n    -ms-grid-column: 2;\n        grid-column-start: 2;\n    float: right;\n    width: 79.7872%; }\n  .wrapper {\n    margin: 0 auto;\n    -ms-grid-columns: 200px auto;\n        grid-template-columns: 200px auto; }\n  .header, .footer {\n    grid-column: 1 / -1;\n    /* needed for the floated layout */\n    clear: both;\n    position: fixed;\n    z-index: 1000; } }\n/*\n.wrapper > * {\n  !*background-color: #444;\n   color: #fff;*!\n  !* font-size: 150%;\n   !* needed for the floated layout*!\n  margin-bottom: 10px;\n}*/\n/* We need to set the widths used on floated items back to auto, and remove the bottom margin as when we have grid we have gaps. */\n@supports (display: grid) {\n  .wrapper > * {\n    width: auto;\n    margin: 0; }\n  li .dx-treeview-node {\n    padding-left: 0 !important; } }\n/deep/ .user-profile-organisation-container, /deep/ .user-profile-container, /deep/ .units-container {\n  margin-top: 83px; }\n"},Xxae:function(e,n){e.exports='<div class="units-container">\n  <div class="units-title">\n    <h1>Business Units Management</h1>\n    <span>Click on Unit To Edit</span>\n  </div>\n  <div  class="align-button">\n    <dx-button\n      *ngIf="unitsCountLimit > 0"\n     (onClick)="addNewUnit()"\n      [disabled]="unitsList?.length >= unitsCountLimit"\n      text="ADD UNIT"\n      type="success">\n    </dx-button>\n    <dx-data-grid #dataGrid\n      id="gridContainer"\n      [dataSource]="unitsList"\n      [showBorders]="true"\n      (onRowClick)="redirectToCurrentUnit($event)"\n      (onRowUpdated)="editUnit($event)"\n      (onRowRemoving)="removeUnit($event)"\n      (onInitNewRow)="addNewUnit()"\n      [hoverStateEnabled]="true"\n      noDataText=""\n      keyExpr="Oid">\n    <dxo-paging [enabled]="false"></dxo-paging>\n    <dxo-editing\n        mode="row"\n        [allowAdding]="true"\n        [allowDeleting]="true">\n        <dxo-popup\n            [width]="700"\n            [height]="345"\n            [position]="{ my: \'top\', at: \'top\', of: \'window\' }">\n        </dxo-popup>\n      <dxo-texts [confirmDeleteMessage]="\'Are you sure you want to delete this business unit?\'"></dxo-texts>\n    </dxo-editing>\n      \x3c!-- <dxi-column dataField="id"></dxi-column>--\x3e\n      <dxi-column  [width]="180"\n                   [fixed]="true" dataField="UnitName" caption="Unit Name">\n        <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n      <dxi-column dataField="ResponsibleName" caption="Name">\n        <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n      <dxi-column dataField="ResponsibleSurname" caption="Surname">\n        <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n      <dxi-column dataField="ResponsiblePhone" caption="Phone">\n        <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n      <dxi-column dataField="ResponsibleEmail" caption="Email">\n        <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n       <dxi-column\n        dataField="UnitCountryId"\n        caption="Country"\n        >\n        <dxo-lookup\n          [dataSource]="countriesInfo"\n          displayExpr="Name"\n          valueExpr="Oid">\n        </dxo-lookup>\n         <dxi-validation-rule type="required"></dxi-validation-rule>\n      </dxi-column>\n     \x3c!-- <dxi-column\n        dataField="UnitTypeId"\n        caption="Type of business"\n      >\n        <dxo-lookup\n          [dataSource]="businessUnitInfo"\n          displayExpr="Name"\n          valueExpr="OID">\n        </dxo-lookup>\n      </dxi-column>--\x3e\n\n      <dxi-column\n        dataField="UnitStructure"\n        caption="Unit Structure"\n      >\n        <dxo-lookup\n          [dataSource]="businessUnitStructure"\n          displayExpr="Name"\n          valueExpr="Oid">\n        </dxo-lookup>\n      </dxi-column>\n\n      <dxi-column [width]="100"\n      cellTemplate="assignUserCellTemplate">\n      </dxi-column>\n\n      <div *dxTemplate="let unit of \'assignUserCellTemplate\'">\n        <a class="assign_user" (click)="showAssignUserPopup(unit)">Assign user</a>\n      </div>\n\n     \x3c!-- <dxi-column\n        dataField="UnitCommodityId"\n        caption="Commodity"\n      >\n        <dxo-lookup\n          [dataSource]="commodityInfo"\n          displayExpr="Title"\n          valueExpr="OID">\n        </dxo-lookup>\n      </dxi-column>--\x3e\n     \x3c!-- <dxi-column\n        dataField="UnitSupplierId"\n        caption="Supplier"\n      >\n        <dxo-lookup\n          [dataSource]="supplierInfo"\n          displayExpr="Title"\n          valueExpr="OID">\n        </dxo-lookup>\n      </dxi-column>--\x3e\n    </dx-data-grid>\n  </div>\n</div>\n\n<dx-popup\n  [width]="400"\n\n  [showTitle]="true"\n  title="Assign user to unit"\n  [dragEnabled]="false"\n  [closeOnOutsideClick]="false"\n  [allowUpdating]="true"\n  [(visible)]="isShowAssignUserPopup">\n  <div *dxTemplate="let data of \'content\'">\n    <form class="indicator-set-form" (submit)="onFormSubmitAssingUser($event)">\n      <dx-form #createDataSetForm\n               [formData]="assignUserData"\n               [readOnly]="false"\n               [showColonAfterLabel]="true"\n      >\n        <dxi-item dataField="FirstName"\n                  [editorOptions]="{ placeholder: \'NAME\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Name is required">\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="LastName"\n                  [editorOptions]="{ placeholder: \'LAST NAME\'}">\n          <dxi-validation-rule\n            type="required"\n            message="LAST NAME is required">\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="Email"\n                  [editorOptions]="{ placeholder: \'EMAIL\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Email is required"\n          >\n          </dxi-validation-rule>\n          <dxi-validation-rule #maleValidator\n                               type="pattern"\n                               [pattern]="emailPattern"\n                               message="Enter valid Email"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n\n      </dx-form>\n      <dx-button [useSubmitBehavior]="true"\n                 class="continue-btn"\n                 text="SUBMIT"\n                 type="success">\n      </dx-button>\n    </form>\n  </div>\n</dx-popup>\n'},alfQ:function(e,n){e.exports='<div class="wrapper">\n\x3c!--<bluenorth-header class="header"></bluenorth-header>--\x3e\n  <aside class="sidebar user-profile-sidebar">\n\n    <div class="form">\n      <div class="user-profile">\n        <i class="material-icons">account_circle</i>\n        <p>Welcome Back,</p>\n        <a class="user-profile-name to-profile" (click)="goToUserProfile()">{{currentUser?.Person1?.FirstName}} {{currentUser?.Person1?.LastName}}</a>\n        <a class="user-profile-logout to-profile" (click)="logout()">Logout</a>\n      </div>\n      <ul class="profile-navigation">\n        <li class="profile-navigation-item" [ngClass]="{\'active\': isActive === \'info\'}"\n            (click)="getTitle(\'info\', \'MY PROFILE\')">\n          My Profile\n          <i *ngIf="isActive === \'info\'" class="material-icons">keyboard_arrow_right</i>\n        </li>\n        <li *ngIf="currentUser.Organisation" class="profile-navigation-item" [ngClass]="{\'active\': isActive === \'organisation\'}"\n            (click)="getTitle(\'organisation\', \'MY ORGANISATION\')" routerLinkActive="active">\n          My Organisation\n          <i *ngIf="isActive === \'organisation\'" class="material-icons">keyboard_arrow_right</i>\n        </li>\n        <li *ngIf="currentUser.Organisation" class="profile-navigation-item" [ngClass]="{\'active\': isActive === \'business-unit\'}"\n            (click)="getTitle(\'business-unit\', \'MY BUSINESS UNIT\')" routerLinkActive="active">\n          Business Units\n          <i *ngIf="isActive === \'business-unit\'" class="material-icons">keyboard_arrow_right</i>\n        </li>\n\n      \x3c!--  <li class="profile-navigation-item" [ngClass]="{\'active\': isActive ===\'subscription\'}"\n            (click)="getTitle(\'subscription\', \'MANAGE SUBSCRIPTION\')" routerLinkActive="active">\n          Manage Subscription\n          <i *ngIf="isActive === \'subscription\'" class="material-icons">keyboard_arrow_right</i>\n        </li>--\x3e\n      </ul>\n    </div>\n\n  </aside>\n  <article class="content">\n    <div class="user-profile-header">\n      <h3 class="user-profile-title">{{title}}</h3>\n      <span *ngIf="showBusinessUnitExplanationSpan">Please capture the details of the specific Business Unit (farm, processing plant, etc.) here.  You can create more than one Business Unit.</span>\n      <span *ngIf="showOrganisationExplanationSpan">* If you have multiple business units (farms, processing plants, etc.), then please enter the details of the holding organization here.<br></span>\n      <span *ngIf="showOrganisationExplanationSpan">* If you only have one business unit, then the same information will be entered here and at the "Business Unit" section.</span>\n      <span *ngIf="showProfileInfoExplanationSpan">Please capture the user (your) details here.</span>\n      <dx-button\n        *ngIf="currentUser.UnitsCountLimit && currentUser.UnitsCountLimit > 0"\n        text="DASHBOARD"\n        type="success"\n        [routerLink]="[\'/dashboard\']">\n      </dx-button>\n    </div>\n    <router-outlet></router-outlet>\n  </article>\n  \x3c!--<footer class="footer">My footer</footer>--\x3e\n</div>\n\n\n\n'},gv5a:function(e,n){e.exports='<div class="user-profile-business-unit-container">\n  <form (keydown.enter)="$event.preventDefault()" (submit)="onFormSubmitUpdateUnit($event)">\n  <dx-form\n    labelLocation="right"\n    (onFieldDataChanged)="onFieldDataChanged($event)"\n    [(formData)]="unitInfo"\n    [readOnly]="false"\n    [showColonAfterLabel]="true"\n    [showValidationSummary]="false"\n    validationGroup="businessUnit"\n  >\n    <dxi-item dataField="UnitName"\n              [editorOptions]="{ placeholder: \'BUSINESS UNIT NAME \xa0( eg Farm Name, Packhouse name, etc) \'}">\n      <dxi-validation-rule\n        type="required"\n        message="Business Unit Name is required"\n      >\n      </dxi-validation-rule>\n    </dxi-item>\n\n    <dxi-item dataField="UnitTypeId"\n              editorType="dxSelectBox"\n              [editorOptions]="unitTypeBoxOptions">\n      <dxi-validation-rule\n        type="required"\n        message="Type of business is required">\n      </dxi-validation-rule>\n    </dxi-item>\n\n    <dxi-item *ngIf="unitStructureBoxOptions" dataField="UnitStructure"\n              editorType="dxSelectBox"\n              [editorOptions]="unitStructureBoxOptions">\n      <dxi-validation-rule\n        type="required"\n        message="Unit Structure is required">\n      </dxi-validation-rule>\n    </dxi-item>\n\n    <dxi-item dataField="ResponsibleName"\n              [editorOptions]="{ placeholder: \'NAME OF PERSON RESPONSIBLE FOR THIS UNIT \'}">\n    </dxi-item>\n    <dxi-item dataField="ResponsibleSurname"\n              [editorOptions]="{ placeholder: \'LAST NAME OF PERSON RESPONSIBLE FOR THIS UNIT \'}">\n    </dxi-item>\n    <dxi-item dataField="ResponsibleEmail"\n              [editorOptions]="{ placeholder: \'EMAIL OF PERSON RESPONSIBLE FOR THIS UNIT \'}">\n\n      <dxi-validation-rule\n        type="pattern"\n        [pattern]="emailPattern"\n        message="Enter valid Email"\n      >\n      </dxi-validation-rule>\n    </dxi-item>\n\n\n\n    <dxi-item\n      [template]="\'countryTemplate\'">\n    </dxi-item>\n    <div *dxTemplate="let data of \'countryTemplate\'">\n      <dx-select-box #countrySelector\n                     [dataSource]="countriesInfo"\n                     displayExpr="Name"\n                     placeholder="SELECT COUNTRY"\n                     valueExpr="Oid"\n                     [value]="unitInfo.UnitCountryId"\n                     (onValueChanged)="getCountryValueForUnit($event)">\n        <dx-validator validationGroup="businessUnit">\n          <dxi-validation-rule\n            type="required"\n            message="Country is required">\n          </dxi-validation-rule>\n        </dx-validator>\n      </dx-select-box>\n    </div>\n\n\n\n    <dxi-item itemType="group" caption="Cellphone number">\n    <dxi-item dataField="ResponsibleMobile"\n              [editorOptions]="{\n                    placeholder: \'TELEPHONE NUMBER\',\n                    mask: phoneCode+\'(9)99-999-9999\',\n                    useMaskedValue: true\n                   }">\n    </dxi-item>\n    </dxi-item>\n    <dxi-item itemType="group" caption="Office number">\n    <dxi-item dataField="ResponsiblePhone"\n              [editorOptions]="{\n                    placeholder: \'CELLPHONE NUMBER\',\n                    mask: phoneCode + \'(9)99-999-9999\',\n                    useMaskedValue: true\n               }">\n    </dxi-item>\n    </dxi-item>\n\n    <dxi-item\n      [template]="\'assessmentType\'">\n    </dxi-item>\n    <div *dxTemplate="let data of \'assessmentType\'">\n      <div class="assessment-type-select-box">\n        <dx-select-box\n          [items]="assessmentTypesInfo"\n          displayExpr="Name"\n          placeholder="SELECT ASSESSMENT TYPE"\n          valueExpr="Oid"\n          [value]="unitInfo.AssessmentType"\n          (onValueChanged)="getAssessmentTypeForUnit($event)">\n          <dx-validator validationGroup="businessUnit">\n            <dxi-validation-rule\n              type="required"\n              message="Assessment type is required">\n            </dxi-validation-rule>\n          </dx-validator>\n        </dx-select-box>\n        <i class="material-icons" style="padding-left: 6px" id="targetElement" aria-describedby="dx-db52d984-5724-946c-2290-8eeb574b9741"  (mouseenter)="toggleDefault()"\n           (mouseleave)="toggleDefault()">help_outline</i>\n        <dx-popover\n          target="#targetElement"\n          position="top"\n          [width]="500"\n          [(visible)]="tooltipVisible">\n          <div *dxTemplate="let data = data of \'content\'">\n            <p>The Light Assessment allows you to quickly assess your business. It should take less than 1 hour to complete)</p>\n            <p>The Full Assessment is a more detailed assessment that takes 2 to 3 hours to complete and allows all your Standards to be assessed and managed within SHERPA.</p>\n            <p>You can change your preferred assessment here at any stage.</p>\n          </div>\n        </dx-popover>\n      </div>\n    </div>\n   \x3c!-- <dxi-item dataField="assessmentTypesInfo"\n              editorType="dxSelectBox"\n              [value]="unitInfo.AssessmentType"\n              [editorOptions]="assessmentTypes">\n    </dxi-item>--\x3e\n\n    <dxi-item  dataField="UnitCommodityId"\n              editorType="dxSelectBox"\n              [editorOptions]="commoditiesBoxOptions">\n      <dxi-validation-rule\n        type="required"\n        message="Commodity is required">\n      </dxi-validation-rule>\n    </dxi-item>\n\n    <dxi-item class="commodities-mulity-select"\n      [template]="\'commodityTemplate\'">\n    </dxi-item>\n\n\n    <div class="commodities-mulity-select" *dxTemplate="let data of \'commodityTemplate\'">\n      <dx-tag-box #multySelectorSecondaryCommodity\n                  [dataSource]="secondaryCommodityInfo"\n                  [value]="unitInfo.Commodities"\n                  (onValueChanged)="onSecondaryCommoditiesValueChanged($event)"\n                  displayExpr="Title"\n                  valueExpr="OID"\n                  placeholder="SELECT OTHER COMMODITIES"\n      >\n      </dx-tag-box>\n    </div>\n\n    <dxi-item dataField="FrameworkId"\n              editorType="dxSelectBox"\n              [editorOptions]="frameworkBoxOptions">\n      <dxi-validation-rule\n        type="required"\n        message="Framework is required">\n      </dxi-validation-rule>\n    </dxi-item>\n\n    <dxi-item\n      [template]="\'standardTemplate\'">\n    </dxi-item>\n\n    <div *dxTemplate="let data of \'standardTemplate\'">\n      <dx-tag-box #multySelector\n                  [dataSource]="standardsInfo"\n                  [value]="unitInfo.Standards"\n                  displayExpr="Title"\n                  valueExpr="OID"\n                  placeholder="SELECT STANDARDS"\n                  [disabled]="!ifFrameworkSelected"\n                   >\n      </dx-tag-box>\n    </div>\n    <dxi-item\n      [template]="\'supplierTemplate\'">\n    </dxi-item>\n    <div *dxTemplate="let data of \'supplierTemplate\'">\n      <dx-tag-box #multySelectorSupplier\n                  [items]="supplierInfo"\n                  [value]="unitInfo.Suppliers"\n                  displayExpr="Title"\n                  placeholder="SELECT SUPPLY CHAIN PARTNERS (e.g. EXPORTERS, IMPORTERS, DISTRIBUTORS, etc.)"\n                  valueExpr="OID">\n        <dx-validator validationGroup="businessUnit">\n          <dxi-validation-rule\n            type="required"\n            message="Supplier is required">\n          </dxi-validation-rule>\n        </dx-validator>\n      </dx-tag-box>\n    </div>\n    <dxi-item\n      [template]="\'retailerTemplate\'">\n    </dxi-item>\n    <div *dxTemplate="let data of \'retailerTemplate\'">\n      <dx-tag-box #multySelectorRetailer\n                  [items]="retailerInfo"\n                  displayExpr="Title"\n                  [value]="unitInfo.Retailers"\n                  placeholder="ADD RETAILER"\n                  valueExpr="OID">\n        <dx-validator validationGroup="businessUnit">\n          <dxi-validation-rule\n            type="required"\n            message="Retailer is required">\n          </dxi-validation-rule>\n        </dx-validator>\n      </dx-tag-box>\n    </div>\n\n  </dx-form>\n\n    <dx-validation-group *ngIf="isUnitCreate" validationGroup="businessUnit">\n\n      <dx-validation-summary></dx-validation-summary>\n    </dx-validation-group>\n    <div class="dx-item-content dx-validationsummary-item-content dx-validationsummary-item map-validation-message" *ngIf="isShowValidationMapMessage">Please enter your location by using the Map</div>\n\n  <h5 class="map-title">BUSINESS UNIT LOCATION</h5>\n  <div class="dx-textbox dx-texteditor dx-widget dx-texteditor-masked map-container">\n\n  </div>\n    <input id="pac-input" class="controls" type="text" placeholder="Search place">\n    <div class="registration-settings-map" id="googleMap" #gmap></div>\n  <br/>\n  <dx-button *ngIf="isUnitCreate"\n    validationGroup="businessUnit"\n    [useSubmitBehavior]="true"\n    class="continue-btn"\n    text= "CREATE UNIT"\n    type="success">\n  </dx-button>\n  <dx-button *ngIf="!isUnitCreate"\n    validationGroup="businessUnit"\n    [useSubmitBehavior]="true"\n    class="continue-btn"\n    text= "UPDATE UNIT"\n    type="success">\n  </dx-button>\n</form>\n\n\n</div>\n<dx-popup\n  [width]="600"\n  [height]="300"\n  [showTitle]="true"\n  title="Add new Commodity"\n  [dragEnabled]="false"\n  [closeOnOutsideClick]="true"\n  [(visible)]="isCommodityPopupVisible"\n>\n\n  <div *dxTemplate="let data of \'content\'">\n    <form class="commodity-create-form" (submit)="onFormSubmitCreateCommodity($event)">\n      <dx-form\n        [formData]="newCommodity"\n        [readOnly]="false"\n        [showColonAfterLabel]="true"\n        [showValidationSummary]="true"\n        validationGroup="addCommodity"\n      >\n        <dxi-item dataField="Title"\n                  [editorOptions]="{placeholder: \'ADD TITLE\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Title is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="Reference"\n                  [editorOptions]="{placeholder: \'ADD REFERENCE\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Reference is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n      </dx-form>\n      <dx-button validationGroup="addCommodity"\n                 [useSubmitBehavior]="true"\n                 class="continue-btn"\n                 text="Add Commodity"\n                 type="success">\n      </dx-button>\n    </form>\n  </div>\n</dx-popup>\n\n<dx-popup\n  [width]="600"\n  [height]="300"\n  [showTitle]="true"\n  title="Add new Supplier"\n  [dragEnabled]="false"\n  [closeOnOutsideClick]="true"\n  [(visible)]="isSupplierPopupVisible"\n>\n\n  <div *dxTemplate="let data of \'content\'">\n    <form class="commodity-create-form supplier-edit-form" (submit)="onFormSubmitCreateSupplier($event)">\n      <dx-form\n        [formData]="newSupplier"\n        [readOnly]="false"\n        [showColonAfterLabel]="true"\n        [showValidationSummary]="true"\n        validationGroup="addSupplier"\n      >\n        <dxi-item dataField="Title"\n                  [editorOptions]="{placeholder: \'ADD TITLE\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Title is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="ShortTitle"\n                  [editorOptions]="{placeholder: \'ADD SHORT TITLE\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Short title is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n        <dxi-item dataField="Description"\n                  editorType="dxTextArea"\n                  [editorOptions]="{placeholder: \'ADD DESCRIPTION\'}">\n          <dxi-validation-rule\n            type="required"\n            message="Description is required"\n          >\n          </dxi-validation-rule>\n        </dxi-item>\n      </dx-form>\n      <dx-button validationGroup="addSupplier"\n                 [useSubmitBehavior]="true"\n                 class="continue-btn"\n                 text="Add Supplier"\n                 type="success">\n      </dx-button>\n    </form>\n  </div>\n</dx-popup>\n'},j2cR:function(e,n,t){"use strict";t.r(n);var o=t("CcnG"),i=t("Ip0R"),r=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},s=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},a=function(){function e(){}return e.prototype.ngOnInit=function(){},e=r([Object(o.Component)({selector:"bluenorth-user-profile-subscription",template:t("pjL7"),styles:[t("94Rw")]}),s("design:paramtypes",[])],e)}(),d=t("ZYCi"),l=t("rXlC"),u=t("Macp"),c=t("Jjqd"),p=t("GMuQ"),f=t("qHEy"),m=t("IZUZ"),h=t("Bj5t"),g=t("2ljg"),b=(t("rV5w"),t("XwBp")),x=t("/isH"),v=t("dNeE"),y=t("yrbL"),S=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},I=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},O=google.maps.MapTypeId,C=google.maps.LatLng,U=function(){function e(e,n,t,o,i,r,s,a,d,l,u){this.route=e,this.router=n,this.userProfileService=t,this.registrationSettingsService=o,this.userService=i,this.commodityService=r,this.unitService=s,this.questionsService=a,this.userProfileBusinessUnitItemService=d,this.changeDetector=l,this.ngZone=u,this.infowindow=new google.maps.InfoWindow,this.isCommodityPopupVisible=!1,this.isSupplierPopupVisible=!1,this.unitAddress="HI",this.standardsOidArray=[],this.ifFrameworkSelected=!1,this.phoneCode="",this.tooltipVisible=!1,this.isUnitCreate=!1,this.bussinesUnitInfo=[],this.businessUnitStructure=[],this.unitInfo={},this.countriesInfo=[],this.assessmentTypesInfo=[],this.commodityInfo=[],this.supplierInfo=[],this.frameworkInfo=[],this.standardsInfo=[],this.retailerInfo=[],this.currentStandards=[],this.isShowValidationMapMessage=!1,this.secondaryCommodityInfo=[],this.commodityInfoBackend=[],this.questions=[],this.questionsWithAnswers=[],this.answersToPost=[],this.initSelector=!1,this.self=this,this.formValidation=new p.a,this.phonePattern=this.formValidation.getPhonePattern(),this.phoneRules=this.formValidation.getPhoneRules(),this.emailPattern=this.formValidation.getEmailPattern(),this.newCommodity=this.userProfileService.getNewCommodity(),this.newSupplier=this.userProfileService.getNewSupplier(),this.unitAddress=this.self.unitAddress}return e.prototype.ngOnInit=function(){var e=this;this.currentStandards=[],this.standardsOidArray=[],this.assessmentTypesInfo=[{Name:"Full Assessment",Oid:0},{Name:"Light Assessment",Oid:1}],this.assessmentTypes={dataSource:this.assessmentTypesInfo,displayExpr:"Name",valueExpr:"Oid",value:null,placeholder:"SELECT ASSESSMENT TYPE"},this.getCurrentUnitId().subscribe(function(n){"new-unit"!==n?e.unitService.getUnitById(n).subscribe(function(t){console.log(t),e.unitInfo=t,console.log("this.unitInfo GET",e.unitInfo);var o=e.unitInfo.AssessmentType;console.log("assessmentType",e.unitInfo.AssessmentType),e.assessmentTypes={dataSource:e.assessmentTypesInfo,displayExpr:"Name",valueExpr:"Oid",value:o,placeholder:"SELECT ASSESSMENT TYPE"},console.log("this.unitInfo",e.unitInfo,e.unitAddress),e.userProfileBusinessUnitItemService.getStandardsByUnitId(n.toString()).subscribe(function(n){console.log("getStandardsByUnitID",n),e.currentStandards=n})},function(e){return console.log(e)},function(){return e.initMap()}):(e.isUnitCreate=!0,e.initSelector=!0,e.countriesLocation=e.registrationSettingsService.getCountriesLocation(),e.latitude=39.8282,e.longitude=-98.5795,e.userService.getUserInfo().subscribe(function(n){e.userId=n.body.Oid,console.log("userLight",n.body),""!==n.body.OrganisationOid&&(e.organisationOid=n.body.OrganisationOid,e.unitInfo.OrganisationId=e.organisationOid)}),e.initMap())}),this.commodityService.getCommodities().subscribe(function(n){console.log("commodities",n),e.commodityInfo=n,e.secondaryCommodityInfo=n,e.commodityInfoBackend=n;var t=e.isUnitCreate?1===e.commodityInfo.length?e.commodityInfo[0].OID:"":e.unitInfo.UnitCommodityId;e.commoditiesBoxOptions={dataSource:e.commodityInfo,displayExpr:"Title",valueExpr:"OID",value:t,placeholder:"SELECT PRIMARY COMMODITY"}},function(n){console.log("commodities",n),e.userService.showUserNotification(n.error.Message,"error")}),this.businessUnitStructure=[{Name:"Independent Production Unit",Oid:u.b.Independent},{Name:"Small Producer Organisation / Cooperative",Oid:u.b.Cooperative}];this.isUnitCreate?1===this.businessUnitStructure.length&&this.businessUnitStructure[0].Oid:this.unitInfo.UnitStructure;this.unitStructureBoxOptions={dataSource:this.businessUnitStructure,displayExpr:"Name",valueExpr:"Oid",placeholder:"ADD BUSINESS UNIT STRUCTURE",value:this.unitInfo.UnitStructure},this.registrationSettingsService.getUnitType().subscribe(function(n){e.bussinesUnitInfo=n.value;e.isUnitCreate?1===e.bussinesUnitInfo.length&&e.bussinesUnitInfo[0].OID:e.unitInfo.UnitTypeId;e.unitTypeBoxOptions={dataSource:e.bussinesUnitInfo,displayExpr:"Name",valueExpr:"OID",value:e.unitInfo.UnitTypeId,placeholder:"ADD TYPE OF BUSINESS UNIT"}},function(n){e.userService.showUserNotification(n.error.Message,"error")}),this.userService.getCountriesList().subscribe(function(n){e.countriesInfo=n,console.log("this.countriesInfo",e.countriesInfo);var t=e.isUnitCreate?1===e.countriesInfo.length?e.countriesInfo[0].Oid:"":e.unitInfo.UnitCountryId;e.countryBoxOptions={dataSource:e.countriesInfo,displayExpr:"Name",valueExpr:"Oid",value:t,placeholder:"SELECT COUNTRY"}}),this.registrationSettingsService.getSuppliers().subscribe(function(n){console.log("suppliers",n),e.supplierInfo=n,e.supplierInfo.sort(function(e,n){return e.Title>n.Title?1:n.Title>e.Title?-1:0})}),this.registrationSettingsService.getRetailers().subscribe(function(n){e.retailerInfo=n,e.retailerInfo.sort(function(e,n){return e.Title>n.Title?1:n.Title>e.Title?-1:0})}),this.questionsService.getQuestionsByGroup("scale").subscribe(function(n){console.log("questions",n),e.questions=n,e.questions.map(function(n){var t={questionId:n.OID,question:n.Title,answer:null};e.questionsWithAnswers.push(t)}),console.log("this.questionsWithAnswers",e.questionsWithAnswers)},function(n){e.userService.showUserNotification(n.error.Message,"error")})},e.prototype.getCountryValueForUnit=function(e,n){console.log(e);var t=this.countriesInfo.filter(function(n){return n.Oid===e.value});if(this.phoneCode=t[0].PhoneCode?t[0].PhoneCode:"",this.unitInfo.UnitCountryId=e.value,e.previousValue&&e.value!=e.previousValue&&(this.unitInfo.ResponsibleMobile="",this.unitInfo.ResponsiblePhone=""),this.isUnitCreate){console.log(t[0].Name);var o=this.countriesLocation.findIndex(function(e){return e.Name===t[0].Name});-1!==o&&(this.googleMap.setCenter(this.countriesLocation[o].center),this.googleMap.setZoom(this.countriesLocation[o].zoom))}-1!==this.phoneCode.indexOf("0")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("0")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("0"))].join("")),-1!==this.phoneCode.indexOf("9")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("9")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("9"))].join(""))},e.prototype.onSecondaryCommoditiesValueChanged=function(e){console.log(e);var n=this.commodityInfoBackend;e.value.forEach(function(e){console.log(e),n=n.filter(function(n){return n.OID!==e})}),this.commodityInfo=n,this.commoditiesBoxOptions={dataSource:this.commodityInfo,displayExpr:"Title",valueExpr:"OID",placeholder:"SELECT PRIMARY COMMODITY",value:this.unitInfo.UnitCommodityId},console.log(this.commodityInfo),this.unitInfo.Commodities=e.value},e.prototype.getCurrentUnitId=function(){var e=this;return this.route.params.pipe(Object(y.mergeMap)(function(n){return e.currentUnitId=n.unitId.toString(),Object(v.of)(e.currentUnitId)}))},e.prototype.onFormSubmitUpdateUnit=function(e){var n=this;console.log(e);if(this.isUnitCreate&&(console.log("this.unitInfo",this.unitInfo),console.log("this.userService.getCurrentUser().userId,",this.userService.getCurrentUser().userId)),this.latitude&&this.longitude&&39.8282!==this.latitude&&-98.5795!==this.longitude&&(this.unitInfo.LocationLattitude=this.latitude,this.unitInfo.LocationLongtitude=this.longitude),this.unitInfo.LocationLattitude||this.unitInfo.LocationLongtitude){if(this.unitInfo.Suppliers=this.multySelectorSupplier.value,this.unitInfo.Retailers=this.multySelectorRetailer.value,this.unitInfo.Standards=this.multySelector.value,console.log("this.multySelectorRetailer",this.multySelectorRetailer),console.log("this.multySelectorSupplier",this.multySelectorSupplier),!this.isUnitCreate){console.log("this.unitInfo to update",this.unitInfo),console.log("this.standardsOidArray",this.standardsOidArray),this.registrationSettingsService.addOrUpdateUnit(this.unitInfo).subscribe(function(e){var t=n.isUnitCreate?"UNIT "+n.unitInfo.UnitName.toUpperCase()+" WAS CREATED":"UNIT "+n.unitInfo.UnitName.toUpperCase()+" WAS UPDATED";n.userService.showUserNotification(t,"success"),console.log("unitUpdate/create",e),n.router.navigate(["profile/business-unit"])},function(e){n.userService.showUserNotification(""+e.error.Message,"error")}),console.log("isStandardUpdated",!1)}this.isUnitCreate&&this.registrationSettingsService.addOrUpdateUnit(this.unitInfo).subscribe(function(e){console.log("this.questionsWithAnswers",n.questionsWithAnswers),console.log("this.answersToPost",n.answersToPost);var t=n.isUnitCreate?"UNIT "+n.unitInfo.UnitName.toUpperCase()+" WAS CREATED":"UNIT "+n.unitInfo.UnitName.toUpperCase()+" WAS UPDATED";n.userService.showUserNotification(t,"success"),console.log("unitUpdate/create",e),n.router.navigate(["profile/business-unit"])},function(e){n.userService.showUserNotification(""+e.error.Message,"error")}),e.preventDefault()}else this.isShowValidationMapMessage=!0},e.prototype.onFormSubmitCreateCommodity=function(e){var n=this;console.log("newCommodity",this.newCommodity),this.commodityService.addCommodity(this.newCommodity).subscribe(function(e){delete e["@odata.context"],n.commodityInfo.push(e),n.commoditiesBoxOptions={dataSource:n.commodityInfo,displayExpr:"Title",valueExpr:"OID",value:e.OID,placeholder:"SELECT PRIMARY COMMODITY"},console.log("commodity",e),console.log("this.commodityInfo",n.commodityInfo),n.userService.showUserNotification("COMMODITY "+n.newCommodity.Title.toUpperCase()+" WAS CREATED","success"),n.isCommodityPopupVisible=!1},function(e){n.userService.showUserNotification(""+e.error.Message,"error")}),e.preventDefault()},e.prototype.onFormSubmitCreateSupplier=function(e){var n=this;console.log("this.newSupplier",this.newSupplier),this.registrationSettingsService.addSupplier(this.newSupplier).subscribe(function(e){n.supplierInfo.push(e),n.supplierBoxOptions={dataSource:n.supplierInfo,displayExpr:"Title",valueExpr:"OID",value:e.OID,placeholder:"SELECT SUPPLIER"},n.userService.showUserNotification("SUPPLIER "+n.newSupplier.Title.toUpperCase()+" WAS CREATED","success"),n.isSupplierPopupVisible=!1,console.log("NEWsupplier",e)},function(e){n.userService.showUserNotification(""+e.error.Message,"error")}),e.preventDefault()},e.prototype.onFieldDataChanged=function(e){var n=this;console.log("field",e),console.log(this.unitInfo),"UnitCommodityId"===e.dataField&&e.value&&(this.userProfileBusinessUnitItemService.getFrameworksByCommodity(e.value).subscribe(function(e){n.frameworkInfo=e,console.log("farmeworks",e),n.frameworkInfo.length&&(n.frameworkBoxOptions={items:n.frameworkInfo,displayExpr:"Title",valueExpr:"OID",placeholder:"SELECT PRIMARY FRAMEWORK",disabled:!1})},function(e){n.userService.showUserNotification(e.error.Message,"error")}),this.secondaryCommodityInfo=this.commodityInfoBackend.filter(function(n){return n.OID!==e.value})),"UnitCommodityId"!==e.dataField||e.value||(this.frameworkBoxOptions={items:this.frameworkInfo,displayExpr:"Title",valueExpr:"OID",placeholder:"SELECT PRIMARY FRAMEWORK",disabled:!0}),"FrameworkId"===e.dataField&&e.value&&this.userProfileBusinessUnitItemService.getStandardsByFramework(e.value).subscribe(function(e){console.log("this.standardsInfo",e),n.standardsInfo=e,n.ifFrameworkSelected=!0}),"assessmentTypesInfo"===e.dataField&&(console.log(e.value),1===e.value&&(console.log(e.value),this.unitInfo.AssessmentType=1,this.assessmentTypes.value=1),0===e.value&&(console.log(e.value),this.unitInfo.AssessmentType=0,this.assessmentTypes.value=0))},e.prototype.optionChanged=function(e){return!0},e.prototype.setStandards=function(e){console.log("changeStandards",e.value),this.standardsOidArray=[],this.multySelector&&(console.log(this.multySelector),this.standardsOidArray=this.multySelector.selectedItems.map(function(e){return e.OID})),console.log(this.standardsOidArray)},e.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},e.prototype.initMap=function(){console.log("initMap"),console.log(this.unitInfo);var e=[];if(this.googleMap=new google.maps.Map(document.getElementById("googleMap"),{mapTypeId:O.HYBRID,center:{lat:53,lng:0},zoom:1}),this.unitInfo.LocationLattitude){var n=new C(this.unitInfo.LocationLattitude,this.unitInfo.LocationLongtitude),t=new google.maps.Marker({position:n,map:this.googleMap,title:"Your place"});e.push(t),this.googleMap.setCenter(n),this.googleMap.setZoom(12)}var o=this.googleMap,i=document.getElementById("pac-input"),r=new google.maps.places.SearchBox(i);this.googleMap.controls[google.maps.ControlPosition.TOP_LEFT].push(i),this.googleMap.addListener("bounds_changed",function(){r.setBounds(this.getBounds())});var s=this;this.googleMap.addListener("click",function(n){console.log(n.latLng.lat());var t=new C(n.latLng.lat(),n.latLng.lng());console.log(t),e.forEach(function(e){e.setMap(null)}),e=[];var i=new google.maps.Marker({position:t,map:o,title:"Your place"});e.push(i),s.latitude=t.lat(),s.longitude=t.lng()}),r.addListener("places_changed",function(){var e=r.getPlaces();if(0!=e.length){var n=new google.maps.LatLngBounds;e.forEach(function(e){e.geometry?e.geometry.viewport?(n.union(e.geometry.viewport),console.log(n)):(n.extend(e.geometry.location),console.log(n)):console.log("Returned place contains no geometry")}),console.log(n),o.fitBounds(n)}})},e.prototype.getAssessmentTypeForUnit=function(e){console.log(e.value),1===e.value&&(console.log(e.value),this.unitInfo.AssessmentType=1,this.assessmentTypes.value=1),0===e.value&&(console.log(e.value),this.unitInfo.AssessmentType=0,this.assessmentTypes.value=0)},e.prototype.toggleDefault=function(){this.tooltipVisible=!this.tooltipVisible},S([Object(o.ViewChild)("gmap"),I("design:type",o.ElementRef)],e.prototype,"gmap",void 0),S([Object(o.ViewChild)("search"),I("design:type",o.ElementRef)],e.prototype,"searchElementRef",void 0),S([Object(o.ViewChild)("multySelector"),I("design:type",x.DxTagBoxComponent)],e.prototype,"multySelector",void 0),S([Object(o.ViewChild)("multySelectorSupplier"),I("design:type",x.DxTagBoxComponent)],e.prototype,"multySelectorSupplier",void 0),S([Object(o.ViewChild)("multySelectorRetailer"),I("design:type",x.DxTagBoxComponent)],e.prototype,"multySelectorRetailer",void 0),e=S([Object(o.Component)({selector:"bluenorth-user-profile-business-unit-item",template:t("gv5a"),styles:[t("p4pj")]}),I("design:paramtypes",[d.a,d.e,l.a,c.a,f.a,h.a,m.a,g.a,b.a,o.ChangeDetectorRef,o.NgZone])],e)}(),w=t("pxlC"),E=t.n(w),T=(function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){}(),function(){return function(){}}()),k=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},P=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},N=function(){function e(e,n,t,o,i,r){this.router=e,this.userProfileService=n,this.commodityService=t,this.registrationSettingsService=o,this.userService=i,this.unitService=r,this.isShowAssignUserPopup=!1,this.unitsCountLimit=0,this.businessUnitInfo=[],this.businessUnitStructure=[],this.itemIndex=0,this.unitInfo={},this.countriesInfo=[],this.commodityInfo=[],this.supplierInfo=[],this.formValidation=new p.a,this.emailPattern=this.formValidation.getEmailPattern()}return e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.dataGrid.instance.beginCustomLoading("Loading..")},0),this.userService.getUserInfo().subscribe(function(n){console.log(n),""!==n.body.OrganisationOid&&(e.organisationOid=n.body.OrganisationOid),n.body.UnitsCountLimit&&(e.unitsCountLimit=n.body.UnitsCountLimit),e.unitService.getUnitsListForOrganisation(e.organisationOid).subscribe(function(n){e.unitsList=n,e.dataGrid.instance.endCustomLoading(),console.log("units",e.unitsList)})}),this.commodityService.getCommodities().subscribe(function(n){e.commodityInfo=n.value}),this.businessUnitStructure=[{Name:"Independent",Oid:0},{Name:"Cooperative",Oid:1}],this.registrationSettingsService.getUnitType().subscribe(function(n){e.businessUnitInfo=n.value}),this.userService.getCountriesList().subscribe(function(n){console.log("country",n),e.countriesInfo=n}),this.registrationSettingsService.getSuppliers().subscribe(function(n){e.supplierInfo=n.value})},e.prototype.redirectToCurrentUnit=function(e){console.log("event.data",e.data),this.router.navigate(["profile/business-unit/"+e.data.Oid])},e.prototype.editUnit=function(e){this.router.navigate(["profile/business-unit/"+e.key]),console.log(e.key,e),e.preventDefault()},e.prototype.removeUnit=function(e){var n=this;console.log(e.key),this.unitService.deleteUnitById(e.key).subscribe(function(e){console.log("unit",e)},function(t){e.cancel=!0,E()({message:"You cannot delete this Unit, because data has already been entered against it.",closeOnClick:!0,closeOnOutsideClick:!0,width:"500",font:"16",position:{my:"center top",at:"center top"}},"error",1e5),console.log("error",t.error.Message,e),n.unitsList.push(e.data)})},e.prototype.addNewUnit=function(){console.log("hi"),this.router.navigate(["profile/business-unit/new-unit"])},e.prototype.showAssignUserPopup=function(e){console.log(e),this.assignUserData=new T,this.assignUserData.CurrentUnitId=e.data.Oid,this.isShowAssignUserPopup=!0},e.prototype.onFormSubmitAssingUser=function(e){var n=this;console.log(this.assignUserData),console.log(e),this.unitService.assingUserToUnit(this.assignUserData).subscribe(function(e){console.log(e)},function(e){return n.userService.showUserNotification(e.error.Message,"error")},function(){n.userService.showUserNotification("USER WAS ASSIGNED TO UNIT","success"),n.assignUserData=null,n.isShowAssignUserPopup=!1})},k([Object(o.ViewChild)("dataGrid"),P("design:type",x.DxDataGridComponent)],e.prototype,"dataGrid",void 0),e=k([Object(o.Component)({selector:"bluenorth-user-profile-business-unit",template:t("Xxae"),styles:[t("nep0")]}),P("design:paramtypes",[d.e,l.a,h.a,c.a,f.a,m.a])],e)}(),R=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},A=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},D=function(){function e(e,n,t,o){this.registrationSettingsService=e,this.userService=n,this.userProfileService=t,this.unitService=o,this.countriesInfo=[],this.phoneCode="",this.initSelector=!1,this.setupOrganisation=this.registrationSettingsService.getSetupOrganisation(),this.organisation=this.registrationSettingsService.getOrganisation(),this.formValidation=new p.a,this.phonePattern=this.formValidation.getPhonePattern(),this.phoneRules=this.formValidation.getPhoneRules(),this.emailPattern=this.formValidation.getEmailPattern()}return e.prototype.ngOnInit=function(){var e=this;this.userService.getCountriesList().subscribe(function(n){e.countriesInfo=n,e.userService.getUserInfo().pipe(Object(y.map)(function(e){return e=e.body.OrganisationOid})).subscribe(function(n){e.organisationOID=n,console.log("OrganisationOid",e.organisationOID),e.unitService.getOrganisationByOid(n).subscribe(function(n){e.organisationWithUnits=n,e.prepareDataToOrganisationForm(),e.countryBoxOptions={dataSource:e.countriesInfo,displayExpr:"Name",valueExpr:"Oid",value:e.setupOrganisation.country,placeholder:"SELECT COUNTRY"}},function(n){e.userService.showUserNotification(n.error.Message,"error")})})})},e.prototype.getCountryValueForOrganisation=function(e){console.log(e),this.initSelector?(this.setupOrganisation.phoneNumber="",this.setupOrganisation.country=e.selectedItem.Oid,this.phoneCode=e.selectedItem.PhoneCode?e.selectedItem.PhoneCode:"",-1!==this.phoneCode.indexOf("0")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("0")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("0"))].join("")),-1!==this.phoneCode.indexOf("9")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("9")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("9"))].join(""))):(this.phoneCode=this.setupOrganisation.phoneNumber.split("(")[0],this.initSelector=!0)},e.prototype.prepareDataToOrganisationForm=function(){this.setupOrganisation.organisationName=this.organisationWithUnits.Organization.Name,this.setupOrganisation.organisationStreet=this.organisationWithUnits.Organization.Party.Address.Street,this.setupOrganisation.organisationCity=this.organisationWithUnits.Organization.Party.Address.City,this.setupOrganisation.stateProvince=this.organisationWithUnits.Organization.Party.Address.StateProvince,this.setupOrganisation.country=this.organisationWithUnits.Organization.Party.Address.Country,this.setupOrganisation.phoneNumber=this.organisationWithUnits.Organization.Party.PhoneNumbers[0].Number},e.prototype.onFormSubmitUpdateOrganisation=function(e){var n=this;this.organisation.Oid=this.organisationOID,this.organisation.Organization.Name=this.setupOrganisation.organisationName,this.organisation.Organization.Party.Address.Street=this.setupOrganisation.organisationStreet,this.organisation.Organization.Party.Address.City=this.setupOrganisation.organisationCity,this.organisation.Organization.Party.Address.StateProvince=this.setupOrganisation.stateProvince,this.organisation.Organization.Party.Address.Country=this.setupOrganisation.country,this.organisation.Organization.Party.PhoneNumbers[0].Number=this.setupOrganisation.phoneNumber,this.registrationSettingsService.addOrUpdateOrganisation(this.organisation).subscribe(function(e){n.userService.showUserNotification("ORGANISATION "+n.organisation.Organization.Name.toUpperCase()+" WAS SUCCESSFULLY UPDATED.","success")},function(e){n.userService.showUserNotification(e.error.Message,"error")}),e.preventDefault()},e=R([Object(o.Component)({selector:"bluenorth-user-profile-organisation",template:t("LHXU"),styles:[t("Eyw2")]}),A("design:paramtypes",[c.a,f.a,l.a,m.a])],e)}(),L=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},F=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},M=function(){function e(e,n,t){var o=this;this.route=e,this.userProfileService=n,this.userService=t,this.countriesInfo=[],this.phoneCode="",this.initSelector=!1,this.passwordUpdateOld=function(){if(""!==o.userInfo.NewPassword)return o.currentUser.PermissionPolicyUser.StoredPassword},this.formValidation=new p.a,this.namePattern=this.formValidation.getNamePattern(),this.emailPattern=p.a.prototype.getEmailPattern(),this.phoneRules=p.a.prototype.getPhoneRules(),this.phonePattern=p.a.prototype.getPhonePattern()}return e.prototype.ngOnInit=function(){var e=this;this.userInfo=this.userProfileService.getUser(),console.log(" this.userInfo",this.userInfo),this.userService.getCountriesList().subscribe(function(n){e.countriesInfo=n}),this.currentUser=this.userService.getCurrentUser(),console.log("user to profile",this.currentUser),this.prepareDataToForm()},e.prototype.prepareDataToForm=function(){console.log(this.currentUser),this.userInfo.UserName=this.currentUser.PermissionPolicyUser.UserName,this.userInfo.FirstName=this.currentUser.Person1.FirstName,this.userInfo.LastName=this.currentUser.Person1.LastName,this.userInfo.Email=this.currentUser.Person1.Email,this.userInfo.OldPassword=this.currentUser.PermissionPolicyUser.StoredPassword,this.userInfo.Country=this.currentUser.Person1.Party.Address.Country,this.currentUser.Person1.Party.PhoneNumbers[0]&&this.currentUser.Person1.Party.PhoneNumbers[0].Number?this.userInfo.MobileNumber=this.currentUser.Person1.Party.PhoneNumbers[0].Number:this.userInfo.MobileNumber="",this.currentUser.Person1.Party.PhoneNumbers[1]&&this.currentUser.Person1.Party.PhoneNumbers[1].Number?this.userInfo.TelephoneNumber=this.currentUser.Person1.Party.PhoneNumbers[1].Number:this.userInfo.TelephoneNumber=""},e.prototype.getCountryValueForUser=function(e){console.log(e),this.initSelector?(this.userInfo.MobileNumber="",this.userInfo.TelephoneNumber="",this.selectedCountry=e.selectedItem.Oid,this.phoneCode=e.selectedItem.PhoneCode?e.selectedItem.PhoneCode:"",-1!==this.phoneCode.indexOf("0")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("0")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("0"))].join("")),-1!==this.phoneCode.indexOf("9")&&(this.phoneCode=[this.phoneCode.slice(0,this.phoneCode.indexOf("9")),"\\",this.phoneCode.slice(this.phoneCode.indexOf("9"))].join("")),console.log(e.selectedItem.PhoneCode?e.selectedItem.PhoneCode:"")):(this.selectedCountry=e.selectedItem.Oid,this.phoneCode=this.userInfo.MobileNumber.split("(")[0],this.initSelector=!0),console.log(this.countriesInfo)},e.prototype.prepareUserDataForUpdate=function(){console.log(this.selectedCountry),this.currentUser.Person1.Party.Address.Country=this.selectedCountry,this.currentUser.PermissionPolicyUser.UserName=this.userInfo.UserName,this.currentUser.Person1.FirstName=this.userInfo.FirstName,this.currentUser.Person1.LastName=this.userInfo.LastName,this.currentUser.Person1.Email=this.userInfo.Email,0===this.currentUser.Person1.Party.PhoneNumbers.length?(this.currentUser.Person1.Party.PhoneNumbers.push(this.userInfo.MobileNumber),this.currentUser.Person1.Party.PhoneNumbers.push(this.userInfo.TelephoneNumber)):(this.currentUser.Person1.Party.PhoneNumbers[0].Number=this.userInfo.MobileNumber,this.currentUser.Person1.Party.PhoneNumbers[1].Number=this.userInfo.TelephoneNumber),""!==this.userInfo.NewPassword&&(this.currentUser.PermissionPolicyUser.StoredPassword=this.userInfo.NewPassword)},e.prototype.onFormSubmitProfilrUpdate=function(e){var n=this;console.log("this.userInfo",this.userInfo),this.prepareUserDataForUpdate(),console.log(this.currentUser),this.userService.updateCurrentUser(this.currentUser).subscribe(function(e){n.userService.showUserNotification("Profile was updated","success",3e3)},function(e){n.userService.showUserNotification(e.error.Message,"error")}),e.preventDefault()},L([Object(o.ViewChild)("selectBox"),F("design:type",o.ElementRef)],e.prototype,"selectBox",void 0),e=L([Object(o.Component)({selector:"bluenorth-user-profile-info",template:t("nCUz"),styles:[t("9nWW")]}),F("design:paramtypes",[d.a,l.a,f.a])],e)}(),B=t("RSjd"),$=t("ZYjt"),q=(t("O5R2"),t("bRuy"),function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s}),j=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},V=function(){function e(e,n,t,o,i,r){this.userProfileService=e,this.router=n,this.authService=t,this.userService=o,this.route=i,this.titleService=r,this.showBusinessUnitExplanationSpan=!1,this.showOrganisationExplanationSpan=!1,this.showProfileInfoExplanationSpan=!1,this.isActive="",this.menuSidebar=this.userProfileService.getMenuItems(),this.currentItem=this.menuSidebar[0]}return e.prototype.screen=function(e){return e<1e3?"sm":"lg"},e.prototype.ngOnInit=function(){this.title=this.titleService.getTitle(),console.log(this.router.url),8===this.route.snapshot._routerState.url.length?this.isActive="info":this.isActive=this.route.snapshot._routerState.url.substring(9),this.currentUser=this.route.snapshot.data.currentUser,console.log("this.currentUser",this.currentUser),this.userService.setCurrentUser(this.currentUser),"/profile/business-unit"===this.router.url&&(this.showBusinessUnitExplanationSpan=!0),"/profile/organisation"===this.router.url&&(this.showOrganisationExplanationSpan=!0),"/profile/info"!==this.router.url&&"/profile"!==this.router.url||(this.showProfileInfoExplanationSpan=!0)},e.prototype.selectItem=function(e){this.currentItem=e.itemData,this.title=this.titleService.getTitle()},e.prototype.getTitle=function(e,n){this.router.navigate(["/profile/"+e]),this.titleService.setTitle(n),this.title=this.titleService.getTitle(),this.isActive=e,this.showBusinessUnitExplanationSpan="business-unit"===e,this.showOrganisationExplanationSpan="organisation"===e,this.showProfileInfoExplanationSpan="info"===e},e.prototype.ngOnChanges=function(){},e.prototype.logout=function(){this.authService.logout()},e=q([Object(o.Component)({selector:"bluenorth-user-profile",template:t("alfQ"),styles:[t("LUOR")]}),j("design:paramtypes",[l.a,d.e,B.a,f.a,d.a,$.b])],e)}(),z=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},Y=[{path:"",component:V,children:[{path:"",component:M,data:{title:"MY PROFILE"}},{path:"info",component:M,data:{title:"MY PROFILE"}},{path:"organisation",component:D,data:{title:"MY ORGANISATION"}},{path:"business-unit",component:N,data:{title:"MY BUSINESS UNIT"}},{path:"business-unit/:unitId",component:U},{path:"business-unit/new-unit",component:U},{path:"subscription",component:a,data:{title:"MANAGE SUBSCRIPTION"}}]}],G=function(){function e(){}return e=z([Object(o.NgModule)({imports:[d.f.forChild(Y)],exports:[d.f]})],e)}(),W=t("x80Z");t.d(n,"UserProfileModule",function(){return _});var H=function(e,n,t,o){var i,r=arguments.length,s=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(n,t,s):i(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s},_=function(){function e(){}return e=H([Object(o.NgModule)({imports:[i.CommonModule,G,W.a],declarations:[V,M,D,N,a,U],schemas:[o.CUSTOM_ELEMENTS_SCHEMA]})],e)}()},nCUz:function(e,n){e.exports='<div class="user-profile-container">\n  <form (submit)="onFormSubmitProfilrUpdate($event)">\n    <dx-form id="form"\n             [(formData)]="userInfo"\n             [readOnly]="false"\n             [showColonAfterLabel]="true"\n             [showValidationSummary]="true"\n             validationGroup="customerData">\n\n     \x3c!-- <dxi-item dataField="UserName"\n                [editorOptions]="{ placeholder: \'LOGIN\', disabled: true}">\n      </dxi-item>--\x3e\n      <dxi-item dataField="FirstName"\n                [editorOptions]="{ placeholder: \'NAME\'}">\n      </dxi-item>\n      <dxi-item dataField="LastName"\n                [editorOptions]="{ placeholder: \'LAST NAME\'}">\n      </dxi-item>\n      <dxi-item dataField="Email"\n                [editorOptions]="{ placeholder: \'EMAIL\', disabled: true}">\n        <dxi-validation-rule\n          type="pattern"\n          [pattern]="emailPattern"\n          message="Enter valid Email">\n        </dxi-validation-rule>\n      </dxi-item>\n\n      <dxi-item dataField="Country">\n        <dx-select-box [dataSource]="countriesInfo"\n                       [value]="userInfo.Country"\n                       valueExpr="Oid"\n                       displayExpr="Name"\n                       placeholder="SELECT COUNTRY"\n                       (onSelectionChanged)="getCountryValueForUser($event)">\n        </dx-select-box>\n      </dxi-item>\n\n      <dxi-item dataField="MobileNumber"\n                [editorOptions]="{\n                    placeholder: \'TELEPHONE NUMBER\',\n                    mask: phoneCode +\'(9)99-999-9999\',\n                    useMaskedValue: true,\n                    maskInvalidMessage: \'The phone must have a correct phone format\'\n\n                }">\n      </dxi-item>\n      <dxi-item dataField="TelephoneNumber"\n                [editorOptions]="{\n                      placeholder: \'CELLPHONE NUMBER\',\n                      mask: phoneCode+\'(9)99-999-9999\',\n                      useMaskedValue: true,\n                      maskInvalidMessage: \'The phone must have a correct phone format\'\n\n                  }">\n      </dxi-item>\n\n      <dxi-item\n        editorType="dxTextBox"\n        [editorOptions]="{ placeholder: \'OLD PASSWORD\', mode: \'password\' }">\n        <dxo-label\n          text="Old Password">\n        </dxo-label>\n      </dxi-item>\n      <dxi-item dataField="NewPassword"\n                [editorOptions]="{ placeholder: \'PASSWORD\' , mode: \'password\'}"\n      >\n      </dxi-item>\n      </dx-form>\n\n    <br />\n    <dx-button\n      text="UPDATE"\n      type="success"\n      validationGroup="customerData"\n      [useSubmitBehavior]="true">\n    </dx-button>\n  </form>\n</div>\n\n'},nep0:function(e,n){e.exports="/*FONT STYLE*/\n/*BACKGROUND-COLOR*/\n/*buttons-color*/\n/*MAIN-HOVER-COLOR*/\n/*Title-color*/\n/*Main-text-color*/\n.units-container {\n  background-color: #fff;\n  padding: 15px;\n  height: calc(100vh - 138px); }\n.units-container .units-title {\n    height: 70px;\n    background-color: #fff; }\n.units-container .units-title span {\n      font-size: 12px; }\n.units-container .units-title h1 {\n      font-size: 24px; }\n.units-container /deep/ dx-data-grid .dx-toolbar-items-container {\n    display: none !important; }\n.units-container /deep/ dx-data-grid .dx-state-hover {\n    cursor: pointer; }\n.units-container /deep/ dx-data-grid .dx-state-hover .assign_user {\n      color: #333; }\n.units-container /deep/ dx-data-grid .assign_user {\n    color: #337ab7;\n    text-decoration: underline;\n    cursor: pointer; }\n.units-container .align-button {\n    text-align: right; }\n.units-container /deep/ dx-button {\n    margin: 15px;\n    color: #fff;\n    background-color: #6BCDFD;\n    border: 2px solid #6BCDFD;\n    width: 150px;\n    border-radius: 7px;\n    font-weight: bold;\n    /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/ }\n.units-container /deep/ dx-button:hover {\n      color: #fff;\n      background-color: #39bcfc;\n      border-color: #2fb9fc; }\n"},p4pj:function(e,n){e.exports='/*FONT STYLE*/\n/*BACKGROUND-COLOR*/\n/*buttons-color*/\n/*MAIN-HOVER-COLOR*/\n/*Title-color*/\n/*Main-text-color*/\n.user-profile-business-unit-container {\n  min-width: 300px;\n  padding: 15px 50px;\n  background-color: #fff;\n  margin-top: 70px; }\n.user-profile-business-unit-container /deep/ .dx-texteditor-input {\n    min-height: 30px;\n    padding: 0 9px;\n    line-height: 30px; }\n.user-profile-business-unit-container /deep/ dx-select-box {\n    min-height: 30px; }\n.user-profile-business-unit-container /deep/ dx-select-box input {\n      font-size: 1em; }\n.user-profile-business-unit-container .dx-list-item-content {\n    font-size: 1em; }\n.user-profile-business-unit-container /deep/ .dx-texteditor {\n    border-radius: 0; }\n.user-profile-business-unit-container /deep/ dx-select-box[placeholder="SELECT COUNTRY"] {\n    margin-right: 20px;\n    position: relative; }\n.user-profile-business-unit-container /deep/ dx-select-box[placeholder="SELECT COUNTRY"]:after {\n    content: " *";\n    position: absolute;\n    right: -20px;\n    top: 5px;\n    color: #ea4444;\n    display: inline-block; }\n.user-profile-business-unit-container .link-style {\n    float: right;\n    padding-right: 25px;\n    font-size: 12px;\n    color: #000;\n    font-style: italic;\n    cursor: pointer; }\n.user-profile-business-unit-container .link-style:hover {\n      color: #0000EE; }\n.user-profile-business-unit-container .link-style a {\n      color: #000;\n      text-decoration: underline; }\n.user-profile-business-unit-container .link-style a:hover {\n        color: #0000EE; }\n.user-profile-business-unit-container /deep/ dx-tag-box[placeholder="SELECT SUPPLY CHAIN PARTNERS (e.g. EXPORTERS, IMPORTERS, DISTRIBUTORS, etc.)"], .user-profile-business-unit-container /deep/ dx-tag-box[placeholder="ADD RETAILER"], .user-profile-business-unit-container /deep/ dx-tag-box[placeholder="SELECT STANDARDS"] {\n    margin-right: 20px;\n    position: relative; }\n.user-profile-business-unit-container /deep/ dx-tag-box[placeholder="SELECT SUPPLY CHAIN PARTNERS (e.g. EXPORTERS, IMPORTERS, DISTRIBUTORS, etc.)"]:after, .user-profile-business-unit-container /deep/ dx-tag-box[placeholder="ADD RETAILER"]:after {\n    content: " *";\n    position: absolute;\n    right: -20px;\n    top: 5px;\n    color: #ea4444;\n    display: inline-block; }\n.user-profile-business-unit-container /deep/ .agm-map-container-inner {\n    margin-right: 20px; }\n.user-profile-business-unit-container /deep/ form {\n    min-width: 300px;\n    background-color: #fff; }\n.user-profile-business-unit-container /deep/ form .dx-form-group-with-caption > .dx-form-group-content {\n      border-top: none;\n      padding-top: 0;\n      margin-top: 0; }\n.user-profile-business-unit-container /deep/ form .dx-form-group-caption {\n      color: #9898A5;\n      font-size: 16px; }\n.user-profile-business-unit-container .registration-mandatory {\n    float: left;\n    margin-bottom: 15px;\n    font-size: 14px; }\n.user-profile-business-unit-container /deep/ dx-button {\n    margin-top: 15px;\n    color: #fff;\n    background-color: #6BCDFD;\n    border: 2px solid #6BCDFD;\n    width: 100%;\n    border-radius: 7px;\n    font-weight: bold;\n    /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/\n    max-width: 1040px; }\n.user-profile-business-unit-container /deep/ dx-button:hover {\n      color: #fff;\n      background-color: #39bcfc;\n      border-color: #2fb9fc; }\n.user-profile-business-unit-container .dx-item {\n    margin-bottom: 15px; }\n.user-profile-business-unit-container .rc-anchor .rc-anchor-normal .rc-anchor-light {\n    margin-top: 15px; }\n.user-profile-business-unit-container .registration-terms-conditions {\n    font-size: 12px;\n    margin-bottom: 15px; }\n.user-profile-business-unit-container .search-location {\n    width: 100%;\n    border: 0 none;\n    line-height: 30px; }\n.user-profile-business-unit-container .map-container {\n    margin-bottom: 15px;\n    margin-right: 20px; }\n.user-profile-business-unit-container .map-title {\n    font-size: 14px;\n    margin: 15px; }\n.user-profile-business-unit-container agm-map {\n    height: 300px; }\n.commodity-create-form /deep/ dx-form {\n  margin-bottom: 35px; }\n.commodity-create-form /deep/ dx-button {\n  margin-top: 15px;\n  color: #fff;\n  background-color: #6BCDFD;\n  border: 2px solid #6BCDFD;\n  width: 100%;\n  border-radius: 7px;\n  font-weight: bold;\n  /*&:focus,\n  &.focus {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 25%);\n  }\n  &:hover {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    color: $color;\n    background-color: darken($background, 10%);\n    border-color: darken($border, 12%);\n\n    &:hover,\n    &:focus,\n    &.focus {\n      color: $color;\n      background-color: darken($background, 17%);\n      border-color: darken($border, 25%);\n    }\n  }\n  &:active,\n  &.active,\n  .open > &.dropdown-toggle {\n    background-image: none;\n  }\n  &.disabled,\n  &[disabled],\n  fieldset[disabled] & {\n    &:hover,\n    &:focus,\n    &.focus {\n      background-color: $background;\n      border-color: $border;\n    }*/ }\n.commodity-create-form /deep/ dx-button:hover {\n    color: #fff;\n    background-color: #39bcfc;\n    border-color: #2fb9fc; }\n.supplier-edit-form /deep/ dx-form {\n  margin-bottom: 0; }\n@media screen and (min-width: 768px) {\n  .user-profile-business-unit-container {\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: 2fr 1fr;\n        grid-template-columns: 2fr 1fr; } }\n.questions-container {\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: 4fr 1fr;\n      grid-template-columns: 4fr 1fr;\n  margin: 15px;\n  font-size: 13px; }\n.commodities-mulity-select {\n  margin-right: 20px; }\n.registration-settings-map {\n  height: 300px; }\n#description {\n  font-family: Roboto;\n  font-size: 15px;\n  font-weight: 300; }\n#infowindow-content .title {\n  font-weight: bold; }\n#infowindow-content {\n  display: none; }\n#map #infowindow-content {\n  display: inline; }\n.pac-card {\n  margin: 10px 10px 0 0;\n  border-radius: 2px 0 0 2px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  outline: none;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\n  background-color: #fff;\n  font-family: Roboto; }\n#pac-container {\n  padding-bottom: 12px;\n  margin-right: 12px; }\n.pac-controls {\n  display: inline-block;\n  padding: 5px 11px; }\n.pac-controls label {\n  font-family: Roboto;\n  font-size: 13px;\n  font-weight: 300; }\n#pac-input {\n  background-color: #fff;\n  font-family: Roboto;\n  font-size: 15px;\n  font-weight: 300;\n  margin-left: 12px;\n  margin-top: 10px;\n  padding: 0 11px 0 13px;\n  text-overflow: ellipsis;\n  width: 200px; }\n#pac-input:focus {\n  border-color: #4d90fe; }\n#title {\n  color: #fff;\n  background-color: #4d90fe;\n  font-size: 25px;\n  font-weight: 500;\n  padding: 6px 12px; }\n#target {\n  width: 345px; }\n.map-validation-message {\n  font-size: 14px; }\n.assessment-type-select-box {\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: 25fr 1fr;\n      grid-template-columns: 25fr 1fr;\n  width: 102%; }\n'},pjL7:function(e,n){e.exports="<p>\n  user-profile-subscription works!\n</p>\n"}}]);